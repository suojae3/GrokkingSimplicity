# 함수형 코딩 - 에릭 노먼드

---

### [Chapter 1] 함수형 코딩 소개

1. **함수형 프로그래밍이란 두 가지로 정의된다.**
- 수학 함수를 사용하고 부수 효과를 피하는 것이 특징인 프로그래밍 패러다임
- 부수효과 없이 순수함수만 사용하는 프로그래밍 스타일

1. 부수효과란 함수가 리턴값 이외에 하는 모든 일을 말한다.  순수함수란 인자에만 의존하고 부수효과가 없는 함수를 말한다. 이를 수학함수라고도 말한다(수학에서의 함수도 그렇게 작동하기 때문에)

1. 함수형 프로그래머는 직감적으로 코드를 세 분류로 나눕니다
- **액션:** 실행시점과 횟수에 의존합니다.
- **계산:** 계산은 입력값으로 출력값을 만드는 것, 언제 어디서 계산해도 결과는 같고 외부에 영향을 주지 않아야 합니다
- **데이터:** 데이터란 이벤트에 대해 기록한 사실을 말합니다. 일어난 일의 결과를 기록한 것입니다.

---

### [Chapter 2] 현실에서의 함수형 사고

1. 피자가게를 예를 들자면 다음과 같습니다
- **액션** 예시: 반죽펴기, 피자 배달, 재료 주문 → 호출 횟수와 시점에 의존
- **계산** 예시: 조리법에 나온 것을 두 배로 만들기, 쇼핑 목록 결정 → 계산은 실행해도 다른 곳에 영향 x
- **데이터** 예시: 고객 주문, 영수증, 조리법 → 변경 불가능한 데이터를 가능한 많이 쓰기

1. 데이터는 다른 영향을 주지 않는 그냥 데이터입니다. 데이터는 데이터만 조합할 수 있습니다.

1. 함수형 프로그래머는 불변 데이터 구조를 만들기 위해 두 가지 원칙을 사용합니다.
- **Copy-On-Write**: 변경할 때 복사본을 만듭니다.
- **Defensive Copy**: 보관하려고 하는 데이터의 복사본을 만듭니다.

1. 데이터는 유연하게 해석할 수 있다는 점이 장점이지만 해석이 반드시 필요하다는 점이 단점입니다. 

1. 데이터 베이스에서 쿠폰 목록을 가져오는 것도 액션입니다. 그리고 가져온 쿠폰목록은 데이터입니다.

2. 함수형 프로그래머는 일반적으로 가능하면 액션을 쓰지 않으려고 합니다.

1. 계산은 입력값으로 출력값을 만드는 것입니다. 호출시점이나 횟수에 의존하지 않고 동일한 입력값으로 부르면 항상 같은 값으로 돌려주어야합니다. 계산은 함수로 구현합니다

```jsx
function sendIssue(){
  var coupons = fetchCouponsFromDB();
  var goodCoupons = selectCouponsByRank(coupons, "good");
  var best Coupons selectCouponsByRank (coupons, "best");
  var subscribers = fetchSubscribersFromDB() ;\
  var emails = emailsForSubscribers (subscribers, goodCoupons, bestCoupons);
  for(var e = 0; e < emails.length; e++){
    var email = emails[e];
    emailSystem.send (email);
  }
```

1. 액션으로 외부 세상에 영향을 줄 수 있습니다. 따라서 지켜야할 주의사항이 있습니다.
- 액션은 가능한 적게 사용합니다
- 액션은 가능한 작게 만듭니다.(액션 안에서는 관련없는 코드는 싹다 없애줍니다)
- 내부에 계산과 데이터만 있고 가장 바깥쪽에 액션이 있는 구조가 이상적입니다.
- 액션이 호출 시점에 의존하는 것을 제한해야합니다.
